---
phase: 01-foundation-tech-stack
plan: 03
type: execute
wave: 3
depends_on: ["01-02"]
files_modified: [vercel.json, .gitignore]
autonomous: false
---

<objective>
Deploy blog to Vercel with production configuration.

Purpose: Establish deployment pipeline and verify the Astro site builds and deploys successfully to production environment.
Output: Site deployed to Vercel with working URL, automatic deployments configured for future git pushes.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-tech-stack/01-RESEARCH.md
@.planning/phases/01-foundation-tech-stack/01-01-SUMMARY.md
@.planning/phases/01-foundation-tech-stack/01-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Vercel configuration file</name>
  <files>vercel.json</files>
  <action>Create vercel.json to configure Vercel deployment settings for Astro. Specify build command and output directory.

Configuration:
```json
{
  "buildCommand": "npm run build",
  "outputDirectory": "dist",
  "framework": "astro"
}
```

This ensures Vercel uses correct build settings for Astro static site generation. Add .vercel/ to .gitignore to exclude Vercel local cache.</action>
  <verify>Run `cat vercel.json` to confirm configuration, check .gitignore contains .vercel/</verify>
  <done>vercel.json created with correct Astro build settings, .vercel/ added to .gitignore</done>
</task>

<task type="auto">
  <name>Task 2: Deploy to Vercel and capture deployment URL</name>
  <files>None (deployment only)</files>
  <action>Deploy the site to Vercel using Vercel CLI. Run `vercel --yes --prod` to deploy directly to production. If authentication required, the command will open browser for login. After deployment completes, Vercel CLI will output the production URL. Capture this URL for verification step. The deployment will automatically link to git repository for continuous deployment on future pushes.</action>
  <verify>Run `vercel ls` to confirm deployment exists, check deployment succeeded with 'Ready' status</verify>
  <done>Site deployed to Vercel production, deployment URL captured, continuous deployment configured for git pushes</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Blog deployed to Vercel production environment with Content Collections and sample content</what-built>
  <how-to-verify>
    1. Open the Vercel deployment URL provided in the output above
    2. Verify homepage loads without errors (should show blog template homepage)
    3. Check /blog/ route exists and displays sample blog posts
    4. Verify browser console has no JavaScript errors
    5. Check page loads quickly (sub-2 second initial load)
    6. Confirm sitemap.xml is accessible at /sitemap.xml
  </how-to-verify>
  <resume-signal>Type "approved" if deployment works correctly, or describe any issues found</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Update astro.config.mjs with actual deployment URL</name>
  <files>astro.config.mjs</files>
  <action>Replace the placeholder 'https://yourdomain.com' in astro.config.mjs with the actual Vercel deployment URL (format: https://your-project.vercel.app). This ensures sitemap.xml and canonical URLs use the correct production domain. After updating, commit the change so future deployments use correct URL.

If user provides custom domain later, this can be updated, but for now use the Vercel-provided URL.</action>
  <verify>Run `cat astro.config.mjs` to confirm site URL matches Vercel deployment URL</verify>
  <done>astro.config.mjs updated with production Vercel URL, sitemap will generate with correct domain</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Site accessible at Vercel production URL
- [ ] /sitemap.xml generates with correct URLs
- [ ] Blog posts visible at /blog/ route
- [ ] No JavaScript errors in browser console
- [ ] astro.config.mjs has production URL
- [ ] Continuous deployment configured (future git pushes auto-deploy)
</verification>

<success_criteria>

- All tasks completed
- Site deployed and accessible on Vercel
- Deployment URL verified working
- Automatic deployments configured
- Production configuration finalized
  </success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-tech-stack/01-03-SUMMARY.md`
</output>
